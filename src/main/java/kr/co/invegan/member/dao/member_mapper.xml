<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC   "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>

<mapper namespace="kr.co.invegan.member.dao.MemberDAO">

<!-- id pw pw확인 이메일 닉네임 생년월일 성별 비건목적 관심사  -->
	<insert id="signup" parameterType="map">
		INSERT INTO Members(id,pw,email,nickname,birthdate,gender,vegan_type,vegan_purpose,interests)
			VALUES(#{id}, #{pw}, #{email}, #{nickname},#{birthdate},#{gender},#{vegan_type}, #{vegan_purpose}, #{interests})
	</insert>
	
	<select id="login3" parameterType="map" resultType="map">
		SELECT m.id, m.name FROM Members m LEFT JOIN author a ON m.id = a.id		
		 WHERE m.id = #{id} AND m.pw = #{pw}
	</select>
	
	<select id="login" parameterType="map" resultType="map">
		SELECT id FROM Members WHERE id=#{id} AND pw=#{pw}
	</select>

	<select id="findId3" parameterType="String" resultType="String">
		SELECT * FROM Members WHERE nickname =#{nickname} AND email=#{email}
	</select>
	
	<select id="findId" parameterType="String" resultType="String">
		SELECT * FROM Members WHERE email=#{email}
	</select>
	
</mapper>